#!/bin/bash

#Purpose: check ip location

#Usage:
#bash checkip.sh -f filename
#bash checkip.sh -i ip

ipp (){
exec < $1
while read a
do
sring=`curl -s http://freeapi.ipip.net/${a} | sed 's/\[\|\]\|,\|"//g;s/$/\n/g'`
echo $a $sring
sleep 1
done
}
case $1 in
-f)
shift
ipp $1
;;
-i)
shift
sring=`curl -s http://freeapi.ipip.net/${a} | sed 's/\[\|\]\|,\|"//g;s/$/\n/g'`
echo $1 $sring
;;
*)
echo "[Help]
$0 need -f or -i
-f ------- argument is a file
-i ------- argument is a IP
[For example]:
$0 -f filename
$0 -i ipadress
"
;;
esac