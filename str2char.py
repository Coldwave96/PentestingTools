import sys
import os


def show_error(msg):
    sys.stderr.write(os.linesep * 2 + "ERROR: " + msg + os.linesep * 3)
    sys.exit(1)


def bare_words():
    string = " ".join(sys.argv[1:])
    print "The used string: =>" + string + "<="
    return string


def show_help():
    print sys.argv[0] + " 'string to be encoded'"
    print sys.argv[0] + " -h => shows this help"
    print
    print "Since -h is reserved for this help, here's the encoded stuff for '-h':"
    print
    print "MySQL HEX: 0x2d68"
    print "MySQL DEC: CHAR(45,104)"
    print
    print "Spared you the trouble for doing things \"the hard way\"."


def str2char():
    string = bare_words()

    print "MySQL HEX: 0x" + string.encode("hex")

    dec_str = list(bytearray(string))
    print "MySQL DEC: CHAR(" + ",".join(str(c) for c in dec_str) + ")"


if __name__ == "__main__":
    try:
        if sys.argv[1] == "-h":
            show_help()
        else:
            str2char()
    except IndexError:
        show_help()
